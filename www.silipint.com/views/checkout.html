{% extends 'layout.html' %}
{% import "/macros/checkout.html" as checkout %}

{% block head %}
	<link rel="stylesheet" href="/css/checkout.css">
{% endblock %}

{% block content %}
<div class="container checkout-page">
    <h1>Checkout</h1>
    <form class="checkout" action="#" novalidate>
        <div class="row-fluid shipping-group">
            <div class="span6">
                <fieldset>
                    <legend>Ship To Contact</legend>
                    <input type="text" maxlength="25" required name="shipping-firstname" placeholder="first name" />
                    <input type="text" maxlength="25" required name="shipping-lastname" placeholder="last name" />
                    <input type="email" maxlength="50" required name="shipping-email" placeholder="email address" />
                    <input type="tel"  maxlength="50" name="shipping-phone" placeholder="phone number" />
                    <label class="checkbox span12">
                        <input type="checkbox" checked name="additional-info"> Receive additional information from Grayl
                    </label>
                    <select name="shipping-method" required>
                        <option value="">choose shipping method</option>
                    </select>
                </fieldset>
            </div>
            <div class="span6">
                <fieldset>
                    <legend>Ship To Address</legend>
 	                <input type="text" maxlength="200" required name="shipping-address" placeholder="street 1" class="span12" />
	                <input type="text" maxlength="200"name="shipping-address2" placeholder="street 2 (optional)" class="span12" />
                    <input type="text" required maxlength="50" name="shipping-city" placeholder="city" />
                    <select name="shipping-state" class="state" required></select>
                    <input type="text" maxlength="10" required name="shipping-zipcode" class="zipcode input-small" placeholder="zipcode" />
                    {{ checkout.Countries('shipping-country') }}
                </fieldset>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">
                <fieldset>
                    <legend>Payment Contact</legend>
                    <label>same as shipping contact <input type="checkbox" name="same-contact" checked /></label>
                    <div class="same-contact">
                        <input type="text" maxlength="25" required name="payment-firstname" placeholder="first name" />
                        <input type="text"  maxlength="25" required name="payment-lastname" placeholder="last name" />
                        <input type="email"  maxlength="50" required name="payment-email" placeholder="email address" />
                        <input type="tel"  maxlength="50" name="payment-phone" placeholder="phone number" />
                    </div>
                </fieldset>
            </div>
            <div class="span6">
                <fieldset>
                    <legend>Payment Address</legend>
                    <label>same as shipping address <input type="checkbox" name="same-address" checked /></label>
                    <div class="same-address">
 	                    <input type="text" maxlength="200" required name="payment-address" placeholder="street 1" class="span12" />
	                    <input type="text" maxlength="200"name="payment-address2" placeholder="street 2 (optional)" class="span12" />
                        <input type="text" required maxlength="50" name="payment-city" placeholder="city" />
                        <select name="payment-state" class="state" required></select>
                        <input type="text" maxlength="10" required name="payment-zipcode" class="zipcode input-small" placeholder="zipcode" />
						{{ checkout.Countries('payment-country') }}
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6">
                <fieldset>
                    <legend>Credit Card</legend>
                    <select name="payment-cardtype" required class="input-medium">
                        <option value="">card type</option>
                    </select>
                    <input type="text" data-type="credit-card" class="input-block-level" maxlength="20" required name="payment-number" placeholder="card number" />  
                    <select name="month" required class="input-small">
                        <option value="">month</option>
                        <option value="1">Jan (1)</option>
                        <option value="2">Feb (2)</option>
                        <option value="3">Mar (3)</option>
                        <option value="4">Apr (4)</option>
                        <option value="5">May (5)</option>
                        <option value="6">Jun (6)</option>
                        <option value="7">Jul (7)</option>
                        <option value="8">Aug (8)</option>
                        <option value="9">Sep (9)</option>
                        <option value="10">Oct (10)</option>
                        <option value="11">Nov (11)</option>
                        <option value="12">Dec (12)</option>                                   
                    </select>
                    <select name="year" required class="input-small">
                        <option value="">year</option>
						{% for year in years %}
							<option value="{{ year }}">{{ year }}</option>
						{% endfor %}
                    </select>
                    <input type="text" data-type="integer" maxlength="4" required name="security-code" placeholder="code" class="input-mini" />            
                </fieldset>
            </div>
        </div>
    </form>
    <div class="order-review-container">
        <h3>Review Order</h3>
        <div class="order-review"></div>
        <div class="alert alert-error form-error" style="display:none">
            <strong>Please correct the form errors.</strong>
        </div>
        <div class="alert alert-error payment-error" style="display:none">
            <strong>There was a problem with your credit card. Please check your entry and try again.</strong>
        </div>
        <div class="button-container">
            <button class="checkout-btn btn-go"></button>
        </div>
    </div>
    <div class="order-receipt-container"></div>
</div>
{% endblock %}

{% block foot %}
    <script type="text/html" id="us-states">
		{{ checkout.USStates('Choose State') }}
    </script>
    <script type="text/html" id="canada-states">
		{{ checkout.CanadaProvinces('Choose Province') }}
    </script>
    <script type="text/html" id="international-states">
        {{ checkout.InternationalStates('state, territory or province code') }}
    </script>
	<script src="/js/checkout.js"></script>
{% endblock %}